module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){e.exports=require("es6-promise")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(3),i=r(4),s=r(5),u=r(6),c=n(),a=new i.Server(c),f=s(a);c.use(n.static("./")),c.get("*",function(e,t){t.sendFile(o.resolve("./index.html"))});var d=a.listen(80,function(){var e=d.address().address,t=d.address().port;console.log("Server started : "+e+" : "+t)});f.on("connection",function(e){console.log("Connection..."),new u.Connection(e)})},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("socket.io")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(14),i=function(){function e(e){this.socket=e,this.initialize()}return e.prototype.processRequest=function(e){var t=this;switch(e.type){case"LOGIN":return n.User.login(e.data._id,e.data.password).then(function(e){return t.user=e,"User Successfully Logged in"});case"REGISTER":return n.User.register(e.data);case"STUDENTS":return n.Database.getStudents();case"PROFILE":return n.Database.getProfile(e.data.userid)}return this.user?(e.type,Promise.reject("Request type "+e.type+" not found.")):Promise.reject("User should be authenticated first.")},e.prototype.initialize=function(){var e=this;this.socket.on("request",function(t){e.processRequest(t).then(function(r){var n={data:r};e.socket.emit(o.getResponseID(t.id),n)}).catch(function(r){var n={error:r};e.socket.emit(o.getResponseID(t.id),n)})})},e}();t.Connection=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=r(10),i=r(11),s=r(0),u=function(e){return function(){return s.Promise.reject(e)}},c=function(){function e(){}return Object.defineProperty(e,"db",{get:function(){return n.DB.then(function(e){return s.Promise.resolve(e)},u("Failed to connect database."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){return e.db},enumerable:!0,configurable:!0}),e.getStudents=function(){return this.db.then(function(e){return e.collection("user").find({}).toArray().then(function(e){return e=e.map(function(e){return a.getProfile(e)}),s.Promise.resolve(e)}).catch(u("Request Failed."))})},e.getProfile=function(e){return this.db.then(function(t){return t.collection("user").findOne({_id:e}).then(function(e){return e?s.Promise.resolve(o.Schema.populate(i.SP_UserProfile,e)):s.Promise.reject("User Details not found.")})})},e}();t.Database=c;var a=function(){function e(e){this.userid=e}return Object.defineProperty(e,"db",{get:function(){return n.DB.then(function(e){return s.Promise.resolve(e)},u("Failed to connect database."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){return e.db},enumerable:!0,configurable:!0}),e.register=function(e){var t=o.Schema.validate(i.S_User,e);return t?s.Promise.reject(t):this.db.then(function(t){return t.collection("user").insertOne(e).then(function(t){return s.Promise.resolve("User "+e._id+" successfully registered.")}).catch(u("User Already Exist."))})},e.login=function(t,r){return this.db.then(function(n){return n.collection("user").findOne({_id:t}).then(function(n){return n?n.password!=r?s.Promise.reject("Invalid password."):s.Promise.resolve(new e(t)):s.Promise.reject("User Not Found.")})})},e.getProfile=function(e){return o.Schema.populate(i.SP_UserProfile,e)},e}();t.User=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(9),i=r(0);t.DB=new i.Promise(function(e,t){n&&e(n),o.connect("mongodb://127.0.0.1:27017",function(r,o){if(r)return void t(new Error("Couldn't connect to database."));n=o.db("iiitn"),e(n)})})},function(e,t){e.exports=require("mongodb")},function(e,t){e.exports=require("classui/Components/Form/Schema")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.S_User=n.S_User,t.S_UserLogin=n.S_UserLogin,t.SP_UserProfile=n.SP_UserProfile;var o=r(13);t.S_Question=o.S_Question},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.S_User={_id:{type:"string",length:7},name:{type:"string"},email:{type:"email"},password:{type:"string",minLength:5},batch:{type:"list",values:["E1","E2","E3","E4"]},branch:{type:"list",values:["CSE","MME","ECE","MECH","CHEMICAL"]}},t.S_UserLogin={_id:t.S_User._id,password:t.S_User.password},t.SP_UserProfile={schema:t.S_User,exclude:["password"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.S_Question={title:{type:"string"},description:{type:"string"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResponseID=function(e){return"response_"+e}}]);