module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){e.exports=require("es6-promise")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(3),i=n(4),s=n(5),u=n(6),c=r(),a=new i.Server(c),d=s(a);c.use(r.static("./")),c.get("*",function(e,t){t.sendFile(o.resolve("./index.html"))});var f=a.listen(80,function(){var e=f.address().address,t=f.address().port;console.log("Server started : "+e+" : "+t)});d.on("connection",function(e){console.log("Connection..."),new u.Connection(e)})},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("socket.io")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=n(12),i=function(){function e(e){this.socket=e,this.initialize()}return e.prototype.processRequest=function(e){var t=this;switch(e.type){case"LOGIN":return r.User.login(e.data._id,e.data.password).then(function(e){return t.user=e,"User Successfully Logged in"});case"REGISTER":return r.User.register(e.data);case"STUDENTS":return r.Database.getStudents();case"PROFILE":return r.Database.getProfile(e.data.userid)}return this.user?(e.type,Promise.reject("Request type "+e.type+" not found.")):Promise.reject("User should be authenticated first.")},e.prototype.initialize=function(){var e=this;this.socket.on("request",function(t){e.processRequest(t).then(function(n){var r={data:n};e.socket.emit(o.getResponseID(t.id),r)}).catch(function(n){var r={error:n};e.socket.emit(o.getResponseID(t.id),r)})})},e}();t.Connection=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=n(10),i=n(11),s=n(0),u=function(e){return function(){return s.Promise.reject(e)}},c=function(){function e(){}return Object.defineProperty(e,"db",{get:function(){return r.DB.then(function(e){return s.Promise.resolve(e)},u("Failed to connect database."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){return e.db},enumerable:!0,configurable:!0}),e.getStudents=function(){return this.db.then(function(e){return e.collection("user").find({}).toArray().then(function(e){return s.Promise.resolve(e)}).catch(u("Request Failed."))})},e.getProfile=function(e){return this.db.then(function(t){return t.collection("user").findOne({_id:e}).then(function(e){return e?s.Promise.resolve(e):s.Promise.reject("User Details not found.")})})},e}();t.Database=c;var a=function(){function e(e){this.userid=e}return Object.defineProperty(e,"db",{get:function(){return r.DB.then(function(e){return s.Promise.resolve(e)},u("Failed to connect database."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){return e.db},enumerable:!0,configurable:!0}),e.register=function(e){var t=o.ValidateSchema(i.SRegisterUser,e);return t?s.Promise.reject(t):this.db.then(function(t){return t.collection("user").insertOne(e).then(function(t){return s.Promise.resolve("User "+e._id+" successfully registered.")}).catch(u("User Already Exist."))})},e.login=function(t,n){return this.db.then(function(r){return r.collection("user").findOne({_id:t}).then(function(r){return r?r.password!=n?s.Promise.reject("Invalid password."):s.Promise.resolve(new e(t)):s.Promise.reject("User Not Found.")})})},e}();t.User=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(9),i=n(0);t.DB=new i.Promise(function(e,t){r&&e(r),o.connect("mongodb://127.0.0.1:27017",function(n,o){if(n)return void t(new Error("Couldn't connect to database."));r=o.db("iiitn"),e(r)})})},function(e,t){e.exports=require("mongodb")},function(e,t){e.exports=require("classui/Components/Form/Schema")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SRegisterUser={_id:{type:"string",length:7},name:{type:"string"},email:{type:"email"},password:{type:"string",minLength:5},batch:{type:"list",values:["E1","E2","E3","E4"]},branch:{type:"list",values:["CSE","MME","ECE","MECH","CHEMICAL"]}},t.SLoginUser={_id:t.SRegisterUser._id,password:t.SRegisterUser.password},t.Question={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResponseID=function(e){return"response_"+e}}]);